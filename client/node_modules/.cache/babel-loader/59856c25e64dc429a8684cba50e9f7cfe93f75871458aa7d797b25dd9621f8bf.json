{"ast":null,"code":"var _jsxFileName = \"/home/bharaths0218/account/client/src/pages/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  // `useState` hook for managing the form data.\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState(''); // State to hold any error messages.\n  const navigate = useNavigate(); // `useNavigate` is a hook to programmatically redirect the user.\n\n  // Destructure `email` and `password` from the form data state.\n  const {\n    email,\n    password\n  } = formData;\n\n  // Handles input changes and updates the state.\n  const onChange = e => setFormData({\n    ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  // Handles form submission.\n  const onSubmit = async e => {\n    e.preventDefault(); // Prevents the default form submission (page reload).\n    setError(''); // Clear any previous errors.\n\n    try {\n      // Prepare the request body.\n      const body = {\n        email,\n        password\n      };\n\n      // Make the POST request to the login API endpoint.\n      const res = await axios.post('http://localhost:5000/api/auth/login', body);\n\n      // --- Success Handling ---\n      // On success, the backend returns a JWT token.\n      // We store this token in the browser's local storage. This is a simple\n      // way to save a user's session.\n      localStorage.setItem('token', res.data.token);\n\n      // Redirect the user to the dashboard page.\n      navigate('/dashboard');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      // --- Error Handling ---\n      // If the login fails (e.g., incorrect credentials), set the error message.\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.msg) || 'Login failed. Please check your credentials.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      for: true,\n      children: \"User Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email Address\",\n          name: \"email\",\n          value: email,\n          onChange: onChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          name: \"password\",\n          value: password,\n          onChange: onChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red',\n        fontWeight: 'bold'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/forgot-password\",\n        children: \"Forgot Password?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"nLFzsayR+KCUSS9bbD69B/32Xg0=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","jsxDEV","_jsxDEV","Login","_s","formData","setFormData","email","password","error","setError","navigate","onChange","e","target","name","value","onSubmit","preventDefault","body","res","post","localStorage","setItem","data","token","err","_err$response","_err$response$data","response","msg","className","children","for","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","required","style","color","fontWeight","to","_c","$RefreshReg$"],"sources":["/home/bharaths0218/account/client/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, Link } from 'react-router-dom';\n\nconst Login = () => {\n  // `useState` hook for managing the form data.\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n  });\n\n  const [error, setError] = useState(''); // State to hold any error messages.\n  const navigate = useNavigate(); // `useNavigate` is a hook to programmatically redirect the user.\n\n  // Destructure `email` and `password` from the form data state.\n  const { email, password } = formData;\n\n  // Handles input changes and updates the state.\n  const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  // Handles form submission.\n  const onSubmit = async e => {\n    e.preventDefault(); // Prevents the default form submission (page reload).\n    setError('');       // Clear any previous errors.\n\n    try {\n      // Prepare the request body.\n      const body = { email, password };\n      \n      // Make the POST request to the login API endpoint.\n      const res = await axios.post('http://localhost:5000/api/auth/login', body);\n      \n      // --- Success Handling ---\n      // On success, the backend returns a JWT token.\n      // We store this token in the browser's local storage. This is a simple\n      // way to save a user's session.\n      localStorage.setItem('token', res.data.token);\n      \n      // Redirect the user to the dashboard page.\n      navigate('/dashboard');\n\n    } catch (err) {\n      // --- Error Handling ---\n      // If the login fails (e.g., incorrect credentials), set the error message.\n      setError(err.response?.data?.msg || 'Login failed. Please check your credentials.');\n    }\n  };\n\n  return (\n    <div className='form-container'>\n      <h2 for>User Login</h2>\n      <form onSubmit={onSubmit}>\n        <div>\n          <input\n            type=\"email\"\n            placeholder=\"Email Address\"\n            name=\"email\"\n            value={email}\n            onChange={onChange}\n            required\n          />\n        </div>\n        <div>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            value={password}\n            onChange={onChange}\n            required\n          />\n        </div>\n        <button type=\"submit\">Login</button>\n      </form>\n\n      {/* Conditionally display the error message. */}\n      {error && <p style={{ color: 'red', fontWeight: 'bold' }}>{error}</p>}\n      \n      <p>\n        Don't have an account? <Link to=\"/register\">Sign Up</Link>\n      </p>\n      <p>\n        <Link to=\"/forgot-password\">Forgot Password?</Link>\n      </p>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}